**วิธีการเล่นเกม (5 steps)** <br />

**Step 1** <br />
- ผู้เล่น Deploy "RPS.sol" เเละกดฟังก์ชัน "addPlayer" พร้อมใส่เงิน 1 eth เพื่อเข้าเกม <br />
- ผู้เล่นจะต้องมาจาก 4 Address ที่อาจารย์กำหนดมาเท่านั้น ไม่เช่นนั้น contract จะ revert <br />
- หลังจากผู้เล่นมาครบ 2 คนเเล้ว จึงจะเข้าสู่ขั้นถัดไป <br />
- *ในกรณีที่ผู้เล่นคนเเรกเข้ามาเเล้วเกิน 30 วินาที เเละยังไม่มีผู้เล่นคนที่สองเข้ามา <br />
  ผู้เล่นคนเเรกสามารถกดฟังก์ชัน stopGame เพื่อออกจากเกม พร้อมรับเงิน 1 eth คืนไปด้วยได้* <br />

**step 2** <br />
- จากไฟล์ "choice_hiding_v2.py" ผู้เล่นทั้ง 2 คนเลือก choice ซึ่งมีทั้งหมด 5 แบบ คือ
  - choice: '00', '01', '02', '03', '04' (rock, paper, scissors, Lizard, Spock)
  - ผลลัพท์ที่ได้คือการนำ random string + choice ในรูปแบบ bytes32
  - คัดลอกผลลัพท์เพื่อนำไปใช้ต่อในขั้นต่อไป

**step 3** <br />
- ผู้เล่น Deploy "Convert.sol" และใส่ผลลัพท์จาก step 2 ไปในฟังก์ชัน "getHash"
- ผลลัพท์จากขั้นนี้คือการนำ choice (ที่อยู่ในรูป bytes32) ไปผ่าน Hash function เพื่อเมื่อเราส่งค่า Hash นี้ขึ้นไปใน RPS contract
  ผู้เล่นคนอื่นจะได้ไม่สามารถรู้ได้ว่าเราเลือกอะไร เพราะคนเดียวที่สามารถถอด Hash ออกมาเป็น choice ได้คือเราเท่านั้น (ป้องกัน Front-running)
- จดผลลัพท์จาก step 2, 3 เอาไว้เพื่อนำไปใช้ต่อในขั้นต่อๆไป

**step 4** <br />
- ใน RPS contract ให้ผู้เล่นทั้ง 2 คนใส่ผลลัพท์จาก step 3 ไปในฟังก์ชัน "input" เพื่อทำการส่งคำตอบของตนเอง (Hash แล้ว)
- *ในกรณีที่ผู้เล่นคนใดส่งคำตอบในฟังก์ชัน input ไปเเล้วเกิน 30 วินาที เเละผู้เล่นคนที่สองยังไม่ยอมส่ง input ของตนเองมา <br />
  ผู้เล่นคนเเรกสามารถกดฟังก์ชัน stopGame เพื่อออกจากเกม พร้อมรับเงิน 1 eth คืนไปด้วยได้ พร้อมกันนั้นผู้เล่นคนที่สองก็จะได้รับเงิน 1 eth คืนไปและออกจากเกมเช่นกัน* <br />

**step 5** <br />
- เมื่อผู้เล่นทั้ง 2 คนใส่ input แล้ว ให้ผู้เล่นนำผลลัพท์จาก step 2 ไปใส่ในฟังก์ชัน "revealChoice" เพื่อพิสูจน์ว่าตนเองเป็นเจ้าของคำตอบที่ตนใส่ไปใน "input" ก่อนหน้า
- เมื่อผู้เล่นทั้ง 2 คนใส่ revealChoice แล้ว ตัว contract เองจะเรียกใช้งานฟังก์ชัน "_checkWinnerAndPay()" เพื่อคำนวนว่าใครเป็นผู้ชนะ (อัตโนมัติ)
- ผู้ชนะจะได้รับเงินเริ่มต้นของตนเองเเละเงินจากฝั่งผู้เเพ้ทั้งหมด (2 eth)
- ในกรณีที่เสมอกัน เงินเริ่มต้น (1 eth ) จะถูกส่งคืนไปยังผู้เล่นทั้ง 2 คน
- contract จะ reset กลับไปยังสถานะเริ่มต้น นั่นคืนทุกคนจะออกจากเกม และสามารถเริ่มเล่นใหม่ได้ไม่รู้จบ
- *ในกรณีที่ผู้เล่นคนใดส่งคำตอบในฟังก์ชัน revealChoice ไปเเล้วเกิน 30 วินาที เเละผู้เล่นคนที่สองยังไม่ยอมส่ง revealChoice ของตนเองมา <br />
  ผู้เล่นคนเเรกสามารถกดฟังก์ชัน stopGame เพื่อออกจากเกม พร้อมรับเงิน 1 eth คืนไปด้วยได้ พร้อมกันนั้นผู้เล่นคนที่สองก็จะได้รับเงิน 1 eth คืนไปและออกจากเกมเช่นกัน* <br />

  **อธิบายโค้ดเพิ่มเติม** <br />
- อธิบายโค้ดที่ป้องกันการ lock เงินไว้ใน contract หรือ ส่วนที่จัดการกับความล่าช้าที่ผู้เล่นไม่ครบทั้งสองคนเสียที --> "TimeUnit.sol"
  - ผมได้ตั้งให้เวลาเริ่มนับใหม่ในทุกครั้งที่ผู้เล่นใช้งานฟังก์ชัน "addPlayer" "input" "revealChoice" เพื่อที่หลังจากผ่านแต่ละขั้นต่อไปนี้เเล้ว
  	เวลาจะถูกนับใหม่ (ผมตั้ง TIMEOUT = 30 วินาที)
  - เมื่อเรียกใช้ฟังก์ชัน "_checkWinnerAndPay()" contract จะเช็คเวลาว่าเกิน 30 วินาทีหรือไม่ ถ้าเกินจะเเจกเเจงกรณีต่อไปอีกว่าควรจะคืนเงินในกรณีใด
    จาก 3 step ข้างต้น (1, 4, 5)


 
